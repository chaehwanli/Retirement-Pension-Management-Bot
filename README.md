# Retirement-Pension-Management-Bot
RPMB(Retirement Pension Management Bot)

### 🚀 Gemini용 마스터 프롬프트 (Copy & Paste용)

**[시스템 역할 지정]**
너는 파이썬 기반의 금융 자동화 전문가이자 주식 컨설턴트야. 52세 투자자의 퇴직연금(DC형, 자산 1.1억)을 관리하기 위한 '안티-그래비티(하락 저항)' 자동화 시스템을 구축하려고 해. 아래 요구사항을 충족하는 완벽한 파이썬 코드를 작성해줘.
**[요구사항]**
**1. 구글 스프레드시트 연동 (gspread 사용):**
* '퇴직연금_관리' 파일의 데이터를 읽고 업데이트하는 로직을 짜줘.
* 시트 구성: [종목명, 티커, 보유수량, 매수단가, 현재가, 수익률, 비중, 손절가].
* `GOOGLEFINANCE` 함수와 연동하거나, 파이썬에서 실시간 가격을 업데이트하는 기능을 포함해줘.
* [시트1: 대시보드(자산비중, 목표달성률)], [시트2: 포트폴리오(종목명, 현재가, 수익률, 배당금)], [시트3: 은퇴 시뮬레이션] 항목을 포함해서 표 형태로 만들어줘. 특히 현재가는 실시간 반영되게 GOOGLEFINANCE 함수 예시도 넣어줘. 
 
**2. 텔레그램 리포트 시스템 (python-telegram-bot 또는 requests 사용):**
* Report는 https://github.com/chaehwanli/Retirement-Pension-Management-Bot/ 의 wiki page 로도 게시해야해.
* 나와 와이프가 포함된 텔레그램 그룹방으로 메시지를 보내야 해.
* 주기(예: 매주 토요일 오전 9시)마다 현재 총 자산액, 수익률, 베스트/워스트 종목을 요약해서 리포트하는 함수를 만들어줘.
 
 
**3. 스마트 리밸런싱 및 손절 알림 로직:**
* **시간 조건:** 마지막 리밸런싱 후 90일이 경과하면 "3개월 정기 리밸런싱 시기입니다"라고 알림.
* **가격 조건:** 특정 종목의 수익률이 설정한 '손절가' 이하로 내려가면 즉시 "위험! [종목명] 손절 기준 도달" 알림 및 대응 제안.
* **비중 조건:** 위험자산 비중이 70%를 초과하면 조정 제안 알림.
 
 
**4. 자동화 실행 (GitHub Actions 권장):**
* 이 코드를 별도의 서버 없이 24시간 주기적으로 실행할 수 있도록 `main.yml` (GitHub Actions 워크플로) 파일 예시도 함께 작성해줘.

 
**[출력 형식]**
* 초보자도 따라 할 수 있게 구글 API 권한 설정 방법부터 텔레그램 봇 토큰 발급까지 단계별로 설명해줘.
* 코드 내 주석을 상세히 달아줘.

---

### 🛠️ 사용자가 준비해야 할 3가지 (기초 재료)

위 프롬프트를 사용하기 전, 혹은 코드를 받은 후 아래 3가지만 준비하시면 됩니다.

1. **텔레그램 봇 토큰:** 텔레그램에서 `@BotFather`를 검색해 봇을 만들고 토큰을 받으세요.
2. **구글 서비스 계정 키:** 구글 클라우드 콘솔에서 JSON 키 파일을 다운로드받으세요 (이게 시트에 접근하는 '열쇠'입니다).
3. **GitHub 계정:** 코드를 올려두고 자동으로 실행시킬 '무료 서버' 역할을 합니다.
